

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Document Outline &mdash; ET in the cloud 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Outline" href="05_Steffis_Playground.html" />
    <link rel="prev" title="V0 WaterSmart User’s Guide to Evapo Pipeline Processing" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ET in the cloud
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Document Outline</a></li>
<li class="toctree-l1"><a class="reference internal" href="#other-training">Other Training</a></li>
<li class="toctree-l1"><a class="reference internal" href="#steffi-notes">Steffi Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="#input-location">input location</a></li>
<li class="toctree-l1"><a class="reference internal" href="#in-root-ws-in">in_root: ws-in</a></li>
<li class="toctree-l1"><a class="reference internal" href="#output-location">output_location</a></li>
<li class="toctree-l1"><a class="reference internal" href="#dataset-info">Dataset info</a></li>
<li class="toctree-l1"><a class="reference internal" href="#static-raster-data-settings">=== Static raster data settings ====</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#making-html-from-markdown">Making HTML from Markdown</a></li>
<li class="toctree-l2"><a class="reference internal" href="#push-to-git">Push to Git</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05_Steffis_Playground.html">Outline</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_right_now.html">Right Now</a><ul>
<li class="toctree-l2"><a class="reference internal" href="10_right_now.html#steffi">Steffi</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_right_now.html#tony">Tony</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="20_process_overview.html">ET Process Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="20_process_overview.html#buckets">Buckets</a></li>
<li class="toctree-l2"><a class="reference internal" href="20_process_overview.html#compute">Compute</a><ul>
<li class="toctree-l3"><a class="reference internal" href="20_process_overview.html#ec2">Ec2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="20_process_overview.html#delivery-to-the-end-user">Delivery to the end-user</a></li>
<li class="toctree-l2"><a class="reference internal" href="20_process_overview.html#time-estimate-table">Time Estimate Table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="90_tallgrass.html">Tallgrass and Caldera User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="90_tallgrass.html#run-conus-mosaics-on-tallgrass">Run Conus Mosaics on Tallgrass</a></li>
<li class="toctree-l2"><a class="reference internal" href="90_tallgrass.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="90_tallgrass.html#general-algorythm">General Algorythm</a></li>
<li class="toctree-l2"><a class="reference internal" href="90_tallgrass.html#how-to-cheat-at-slurm">How to Cheat at Slurm</a></li>
<li class="toctree-l2"><a class="reference internal" href="90_tallgrass.html#hpc-references">HPC References</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ET in the cloud</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Document Outline</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/03_Steffi_Notes.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="document-outline">
<h1>Document Outline<a class="headerlink" href="#document-outline" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>ec2-instance creation</p></li>
<li><p>Running the Model</p>
<ul>
<li><p>Using Docker to Scale</p>
<ul>
<li><p>Tiles and Chips</p></li>
<li><p>Running single small regions</p></li>
</ul>
</li>
<li><p>Config files YAML</p></li>
<li><p>Logging and Outputs</p></li>
</ul>
</li>
<li><p>Mosaicking Chips to Tiles</p></li>
<li><p>Mosaicking Tiles to CONUS</p>
<ul>
<li><p>Sending files to HPC-Caldera - using rclone</p></li>
<li><p>Slurm 101</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="other-training">
<h1>Other Training<a class="headerlink" href="#other-training" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Linux/UNIX Shell –&gt; BASH</p></li>
<li><p>Jupyter Notebooks</p></li>
<li><p>ssh</p>
<ul>
<li><p>ssh keys why and how?</p></li>
</ul>
</li>
<li><p>ec2 -starting and stopping</p>
<ul>
<li><p>console</p></li>
<li><p>pinstance</p></li>
<li><p>shell - shutdown -h now</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="steffi-notes">
<h1>Steffi Notes<a class="headerlink" href="#steffi-notes" title="Permalink to this headline">¶</a></h1>
<ol class="simple">
<li><p>find steffi documentation notes</p></li>
<li><p>start converting to markdown</p></li>
</ol>
<p>using the repo https://code.usgs.gov/skagone/veget_v2
there is now a snow calculation turn on/off switch included in the script.</p>
<p>Timing is:
started 1 tile (r50tile7) on bigship
2/17/2022 - 1.40pm until 2/18/2022 9.50am(for 20 years) = 19 hours
~ 1 hour per year or 8 sec per day</p>
<p>previously it used to take:
Tile 1 – on bigship-intel took 10:52 am to 5:58 am – about 19 hours or 1 hour per year or 8 sec per day</p>
<p>started 2 tiles on 10.12.68.186 (new bigship - “a” machine with amd processor):
tile9 and 0
3/1/2022 - 10.45am until 3/3/2022 7.45 am(for 20 years) = 40 hours
~ 2 hour per year or 20 sec per day</p>
<p>r50_tile5, tile6, tile7, tile8, tile9
r37_tile0, tile1, tile2, tile3</p>
<p>mosaicking test:
did 1 param (etasw) for 2000, it took from 3/7/2020 at 4.00pm to 3/8/2020 at 1.52am = 10 hours
on bigship run old code like this</p>
<p>ARM computers are a bust:
https://en.wikipedia.org/wiki/AArch64</p>
<p>config files are</p>
</div>
<div class="section" id="input-location">
<h1>input location<a class="headerlink" href="#input-location" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="in-root-ws-in">
<h1>in_root: ws-in<a class="headerlink" href="#in-root-ws-in" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="output-location">
<h1>output_location<a class="headerlink" href="#output-location" title="Permalink to this headline">¶</a></h1>
<p>out_root_prefix: ws-out
region: CONUS
region_name: conus</p>
</div>
<div class="section" id="dataset-info">
<h1>Dataset info<a class="headerlink" href="#dataset-info" title="Permalink to this headline">¶</a></h1>
<p>precip_settings:
#dynamic_settings: False
name_fmt: prec_{}.tif
dt_fmt: YYYYdoy
dir_loc: /vsis3/ws-in/CONUS/PPT/gridmet/
climatology: False
scaling_factor: 1</p>
<p>ndvi_settings:
#dynamic_settings: False
#dynamic_file: ./running_config/dynamic_config.yml
name_fmt: med{}.250_m_NDVI.tif
dt_fmt: doy
dir_loc: /vsis3/ws-in/CONUS/NDVI/median/
climatology: True
scaling_factor: 0.0001</p>
<p>eto_settings:
#dynamic_settings: False
name_fmt: medeto_{}.tif
dt_fmt: doy
dir_loc: /vsis3/ws-in/CONUS/ETo/gridmet_ETo/
climatology: True
scaling_factor: 1</p>
<p>tmin_settings:
#dynamic_settings: False
name_fmt: tmin_{}.tif
dt_fmt: YYYYdoy
dir_loc: /vsis3/ws-in/CONUS/TEMP/tmin/
climatology: False
scaling_factor: 1</p>
<p>tmax_settings:
#dynamic_settings: False
name_fmt: tmax_{}.tif
dt_fmt: YYYYdoy
dir_loc: /vsis3/ws-in/CONUS/TEMP/tmax/
climatology: False
scaling_factor: 1</p>
<p>tavg_settings:
#dynamic_settings: False
name_fmt: tavg_{}.tif
dt_fmt: YYYYdoy
dir_loc: /vsis3/ws-in/CONUS/TEMP/tavg/
climatology: False
scaling_factor: 1</p>
</div>
<div class="section" id="static-raster-data-settings">
<h1>=== Static raster data settings ====<a class="headerlink" href="#static-raster-data-settings" title="Permalink to this headline">¶</a></h1>
<p>watermask_settings:
file_loc: /vsis3/ws-in/CONUS/water_NA.tif
whc_settings:
file_loc: /vsis3/ws-in/CONUS/Soil/awc_NA_mosaic.tif
saturation_settings:
file_loc: /vsis3/ws-in/CONUS/Soil/por_NA_mosaic.tif
field_capacity_settings:
file_loc: /vsis3/ws-in/CONUS/Soil/fc_NA_mosaic.tif
interception_settings:
file_loc: /vsis3/ws-in/CONUS/Soil/intercept_filled_0_na.tif #15%</p>
<div class="section" id="making-html-from-markdown">
<h2>Making HTML from Markdown<a class="headerlink" href="#making-html-from-markdown" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>cd sphynx/source; make</p></li>
</ul>
</div>
<div class="section" id="push-to-git">
<h2>Push to Git<a class="headerlink" href="#push-to-git" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>cd ~/opt/ws-docs; make publish</p>
<ul>
<li><p>cut token use as password</p></li>
<li><p>cat ~/token.txt</p></li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="05_Steffis_Playground.html" class="btn btn-neutral float-right" title="Outline" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="V0 WaterSmart User’s Guide to Evapo Pipeline Processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2022, Tony Butzer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>